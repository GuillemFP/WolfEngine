varying float diffuse;
uniform vec4 light_position;

void main()
{
	gl_Position = gl_ProjectionMatrix*gl_ModelViewMatrix*gl_Vertex;
	vec4 Vertex_New = gl_ModelViewMatrix*gl_Vertex;
	vec3 Normal_New = gl_NormalMatrix*gl_Normal;
	vec4 Light_Position = gl_ModelViewMatrix*light_position;
	diffuse = dot(Normal_New.xyz, normalize(Light_Position - Vertex_New).xyz);
	if(diffuse < 0.0) diffuse =0.0;
}
